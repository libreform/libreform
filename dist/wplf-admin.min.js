/*! For license information please see wplf-admin.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.WPLF=t(require("react"),require("react-dom")):e.WPLF=t(e.React,e.ReactDOM)}(this,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(t,n){t.exports=e},function(e,t,n){"use strict";t.a=function(e){return Object.assign({backendUrl:null,fetchCredentials:"same-origin",requestHeaders:{"X-WP-Nonce":null},assetsDir:null,settings:{autoinit:!0,parseLibreformShortcodeInRestApi:!0,hasUnfilteredHtml:!0,debugLevel:"all"},post:null,i18n:{}},e.wplfData)}(window)},function(e,t,n){"use strict";var r=n(1).a.settings.debugLevel,o=window.console||{log(){},error(){}};t.a={notice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"all"===r&&o.log("WPLF: ".concat(e),n)},error:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"none"!==r&&o.error("WPLF error: ".concat(e),n)}}},function(e,t,n){"use strict";t.a=function(e){return!!e&&("getAttribute"in e&&"tagName"in e)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r,o;n(6);!function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Submitting=1]="Submitting",e[e.Success=2]="Success",e[e.Error=3]="Error"}(r||(r={})),function(e){e.GetForm="getForm",e.GetForms="getForms",e.GetSubmissions="getSubmissions",e.GetSubmission="getSubmission",e.DeleteSubmissions="deleteSubmissions",e.RenderForm="renderForm",e.SubmitForm="submitForm",e.ApiError="apiError"}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(9),o=n.n(r),a=n(1);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(){t&&t.abort&&t.abort()},i=c(regeneratorRuntime.mark((function r(){var i,u,l,c,f,d,p;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=new o.a,r.next=4,fetch(a.a.backendUrl+e,s({method:"GET",signal:t.signal,credentials:a.a.fetchCredentials||"same-origin",headers:a.a.requestHeaders||{}},n));case 4:return i=r.sent,u=i.headers,l=i.status,c=i.statusText,f=i.url,d=i.ok,r.next=8,i.json();case 8:return p=r.sent,t=null,r.abrupt("return",{headers:u,status:l,statusText:c,url:f,ok:d,data:p});case 13:if(r.prev=13,r.t0=r.catch(0),t=null,"AbortError"===r.t0.name){r.next=18;break}throw r.t0;case 18:return r.abrupt("return",r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,13]])})))();return Object.assign(i,{abort:r})}var d=n(4);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){v(a,r,o,i,s,"next",e)}function s(e){v(a,r,o,i,s,"throw",e)}i(void 0)}))}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,s,u,l,c,p;return t=e,(n=[{key:"requestRender",value:(p=b(regeneratorRuntime.mark((function e(t,n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("content",n),r.append("form",t.toString()),a.a.lang&&r.append("lang",a.a.lang),e.next=6,f("/renderForm",{method:"POST",body:r});case 6:return(o=e.sent).ok,i=m(m({},o),{},{kind:d.a.RenderForm}),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return p.apply(this,arguments)})},{key:"requestForm",value:(c=b(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",a.a.lang&&(n="&lang=".concat(a.a.lang)),r="/getForm?form=".concat(t).concat(n),e.next=5,f(r,{method:"GET"});case 5:return(o=e.sent).ok,i=m(m({},o),{},{kind:d.a.GetForm}),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"requestForms",value:(l=b(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",a.a.lang&&(n="&lang=".concat(a.a.lang)),r="/getForms?page=".concat(t).concat(n),e.next=5,f(r,{method:"GET"});case 5:return(o=e.sent).ok,i=m(m({},o),{},{kind:d.a.GetForms}),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"deleteSubmissions",value:(u=b(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/deleteSubmissions",{method:"DELETE",headers:m(m({},a.a.requestHeaders),{},{"Content-Type":"application/json"}),body:JSON.stringify({form:t,submissionUuids:n})});case 2:return(r=e.sent).ok,o=m(m({},r),{},{kind:d.a.DeleteSubmissions}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return u.apply(this,arguments)})},{key:"requestSubmissions",value:(s=b(regeneratorRuntime.mark((function e(t,n,r){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/getSubmissions?form=".concat(t,"&page=").concat(n,"&limit=").concat(r),{method:"GET"});case 2:return(o=e.sent).ok,a=m(m({},o),{},{kind:d.a.GetSubmissions}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,t,n){return s.apply(this,arguments)})},{key:"requestSubmission",value:(i=b(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/getSubmission?form=".concat(t,"&uuid=").concat(n),{method:"GET"});case 2:return(r=e.sent).ok,o=m(m({},r),{},{kind:d.a.GetSubmission}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})},{key:"sendSubmission",value:(o=b(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("/submitForm",{method:"POST",body:t});case 2:return(n=e.sent).ok,r=m(m({},n),{},{kind:d.a.SubmitForm}),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}])&&y(t.prototype,n),r&&y(t,r),e}())},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(1),o=n(2),a=n(8),i=n(4),s=n(3),u=n(7),l=n(5);function c(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout(t,e)}))},p=function(e,t){var n=e.form;n.reset&&n.reset()},m=function(e,t){Object(s.a)(e.form.parentNode)&&e.form.parentNode.querySelectorAll(".wplf-errorMessage, .wplf-successMessage").forEach((function(e){Object(s.a)(e.parentNode)&&e.parentNode.removeChild(e)}))},h=function(e,t){var n=t.data.data.message,r=void 0===n?"":n,o=document.createElement("div");o.classList.add("wplf-successMessage"),o.insertAdjacentHTML("afterbegin",r),e.form.insertAdjacentElement("beforebegin",o),e.form.classList.add("submitted")},v=function(e,t){var n=t.error,r=t.response,o=document.createElement("div");if(o.classList.add("wplf-errorMessage"),o.insertAdjacentHTML("afterbegin",n.message),r&&r.data){var a=r.data;Object.keys(a).forEach((function(e){var t=a[e];if("requiredFields"===e){var n=document.createElement("ul");t.forEach((function(e){var t=document.createElement("li");t.innerText=e,n.appendChild(t)})),o.appendChild(n)}}))}e.form.insertAdjacentElement("beforebegin",o)},b=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.submitState=i.b.Unsubmitted,this.submitHandler=null,this.callbacks={beforeSend:{default:m},success:{default:h,clearOnSuccess:p},error:{default:v}},this.tabs=[],this.key="",t instanceof HTMLElement!=!0)throw new Error("Form element invalid or missing");this.form=t,this.id=Object(u.a)(t.dataset.formId||0),this.slug=t.dataset.formSlug||"",this.key="_"+Math.random().toString(36).substr(2,9),this.tabs=Array.from(this.form.querySelectorAll(".wplf-tabs")).map((function(e){return new a.a(e)})),this.createSubmitHandler(),this.attachSubmitHandler();var n=t.querySelector('[name="_nojs"]');n&&Object(s.a)(n.parentNode)&&n.parentNode.removeChild(n)}var t,n,b;return t=e,(n=[{key:"getDefaultCallbacks",value:function(){return{beforeSend:{default:m},success:{default:h,clearOnSuccess:p},error:{default:v}}}},{key:"addCallback",value:function(e,t,n){var r=this.callbacks,o=r.beforeSend,a=r.success,i=r.error;switch(t){case"beforeSend":o[e]=n;break;case"success":a[e]=n;break;case"error":i[e]=n;break;default:throw new Error("Unknown callback type ".concat(t))}return this}},{key:"removeCallback",value:function(e,t){var n=this.callbacks,r=n.beforeSend,o=n.success,a=n.error;switch(t){case"beforeSend":delete r[e];break;case"success":delete o[e];break;case"error":delete a[e];break;default:throw new Error("Unknown callback ".concat(e," ").concat(t))}return this}},{key:"runCallback",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.callbacks,o=r.beforeSend,a=r.success,i=r.error;switch(e){case"beforeSend":Object.values(o).forEach((function(e){e(t,n)}));break;case"success":Object.values(a).forEach((function(e){e(t,n)}));break;case"error":Object.values(i).forEach((function(e){e(t,n)}));break;default:throw new Error("Unknown callback ".concat(name," ").concat(e))}}},{key:"attachSubmitHandler",value:function(){return this.submitHandler?(o.a.notice("Attaching form submit handler"),this.form.addEventListener("submit",this.submitHandler,{passive:!1})):o.a.error("Unable to attach submit handler, as it does not exist"),this}},{key:"removeSubmitHandler",value:function(){return this.submitHandler?(o.a.notice("Removing form submit handler"),this.form.removeEventListener("submit",this.submitHandler)):o.a.error("Unable to remove submit handler, as it does not exist"),this}},{key:"createSubmitHandler",value:function(e){var t=this;return e?(this.submitHandler=e,this):(this.submitHandler=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var a,s,u,c,f,p,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.submitState!==i.b.Submitting){e.next=4;break}return o.a.notice("Preventing double doubmission"),e.abrupt("return");case 4:return e.prev=4,a=t.form,s=new FormData(a),r.a.lang&&s.append("lang",r.a.lang),t.submitState=i.b.Submitting,a.classList.add("submitting"),t.runCallback("beforeSend",{formData:s,form:a}),e.next=13,d();case 13:return s=new FormData(a),e.next=16,l.a.sendSubmission(s);case 16:if(u=e.sent,c=u.data,f=u.ok,a.classList.remove("submitting"),!("error"in c)){e.next=25;break}throw p=y(c.error,c),o.a.error("Invalid submission!",p),p;case 25:if(f){e.next=30;break}throw y(r.a.i18n.formSubmissionRequestFailed,c);case 30:t.submitState=i.b.Success,t.runCallback("success",{data:c});case 32:e.next=40;break;case 34:e.prev=34,e.t0=e.catch(4),m=e.t0.error,h=e.t0.response,m||(m=new Error("Unknown error")),t.submitState=i.b.Error,t.runCallback("error",{error:m,response:h});case 40:case"end":return e.stop()}}),e,null,[[4,34]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),this)}}])&&f(t.prototype,n),b&&f(t,b),e}();function y(e,t){return{error:new Error(e),response:t}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"number"==typeof e?e:t?parseFloat(e):parseInt(e,10)}function o(e){return!!(e&&e.length>0&&e.match(/^[0-9]*$/))}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wplf";o(this,e),this.prefix=t}var t,n,i;return t=e,(n=[{key:"get",value:function(e,t){var n=localStorage.getItem(this.prefix+e);return null!==n?n?JSON.parse(n):n:(r.a.notice("No value found for ".concat(e,", falling back to default"),t),t)}},{key:"set",value:function(e,t){try{return localStorage.setItem(this.prefix+e,JSON.stringify(t)),!0}catch(n){return r.a.error(n,e,t),!1}}}])&&a(t.prototype,n),i&&a(t,i),e}()),s=n(3);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.remember=!1,this.name="",this.handleClick=function(e){var t=e.target;if(Object(s.a)(t)){var o=t.getAttribute("data-target");o?n.switchTab(o):r.a.notice("Unable to switch tab as data-target was empty")}e.preventDefault()},t instanceof Element!=!0)throw new Error("Tab element invalid or missing");if(this.root=t,this.name=this.root.getAttribute("data-name")||"",this.remember=null!==this.root.getAttribute("data-remember"),this.activeTab=this.root.getAttribute("data-default")||"",!this.name||!this.activeTab)throw new Error("Required attributes are missing");this.remember&&(this.activeTab=i.get(this.name,this.activeTab)),this.refresh()}var t,n,o;return t=e,(n=[{key:"refresh",value:function(){var e=this;this.getHandles().forEach((function(t){t.addEventListener("click",e.handleClick,{passive:!1})})),this.switchTab(this.activeTab)}},{key:"getTabs",value:function(){return Array.from(this.root.querySelectorAll('.wplf-tabs__tab[data-name="'.concat(this.name,'"]')))}},{key:"getHandles",value:function(){return Array.from(this.root.querySelectorAll('.wplf-tabs__tabSwitcher[data-name="'.concat(this.name,'"]')))}},{key:"switchTab",value:function(e){var t=this.getTabs(),n=this.getHandles(),r=t.filter((function(t){return t.getAttribute("data-tab")===e})),o=t.filter((function(t){return t.getAttribute("data-tab")!==e}));r.forEach((function(e){var t=e.getAttribute("data-tab"),r=n.filter((function(e){return e.getAttribute("data-target")===t}));e.classList.add("active"),r.forEach((function(e){e.classList.add("active")}))})),o.forEach((function(e){var t=e.getAttribute("data-tab"),r=n.filter((function(e){return e.getAttribute("data-target")===t}));e.classList.remove("active"),r.forEach((function(e){e.classList.remove("active")}))})),this.remember&&i.set(this.name,e)}}])&&u(t.prototype,n),o&&u(t,o),e}()},function(e,t,n){"use strict";const{AbortController:r,AbortSignal:o}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=r,e.exports.AbortSignal=o,e.exports.default=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),o=n(1);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.forms={},o.a.settings.autoinit&&this.initialize()}var t,n,i;return t=e,(n=[{key:"initialize",value:function(){var e=this;Array.from(document.querySelectorAll(".wplf-form")).map((function(t){e.attach(t)}))}},{key:"findFormsById",value:function(e){var t=this;return Object.keys(this.forms).reduce((function(n,r){var o=t.forms[r];return o?(e===o.id&&n.push(o),n):n}),[])}},{key:"findFormsBySlug",value:function(e){var t=this;return Object.keys(this.forms).reduce((function(n,r){var o=t.forms[r];return o&&o?(e===o.slug&&n.push(o),n):n}),[])}},{key:"attach",value:function(e){if(e instanceof r.a){var t=e;return this.forms[t.key]=t,t}var n=e;if(n instanceof Element!=1)throw new Error(o.a.i18n.unableToAttachWPLF);var a=new r.a(n);return this.forms[a.key]=a,a.form.removeAttribute("tabindex"),a.form.removeAttribute("style"),a}},{key:"detach",value:function(e){return this.forms[e.key].removeSubmitHandler(),delete this.forms[e.key],!0}}])&&a(t.prototype,n),i&&a(t,i),e}()},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new x(r||[]);return a._invoke=function(e,t,n){var r=f;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return R()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?m:d,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=m,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",m="completed",h={};function v(){}function b(){}function y(){}var g={};g[a]=function(){return this};var w=Object.getPrototypeOf,O=w&&w(w(P([])));O&&O!==n&&r.call(O,a)&&(g=O);var S=y.prototype=v.prototype=Object.create(g);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(o,a,i,s){var u=c(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:R}}function R(){return{value:t,done:!0}}return b.prototype=S.constructor=y,y.constructor=b,b.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},E(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(S),u(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,o=n(27);var a=((r=o)&&r.__esModule?r:{default:r}).default,i=a.canUseDOM?window.HTMLElement:{};t.canUseDOM=a.canUseDOM;t.default=i},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(20),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},function(e,t,n){e.exports=n(21)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var r=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function a(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=l,t.hide=function(e){l(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,o=n(26),a=(r=o)&&r.__esModule?r:{default:r},i=n(12);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!s)||((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},function(e,t,n){n(11),e.exports=n(35)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=m(a),s=m(n(13)),u=m(n(15)),l=m(n(23)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(17)),f=n(12),d=m(f),p=n(30);function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",g=void 0!==s.default.createPortal,w=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function O(e){return e()}var S=function(e){function t(){var e,n,o;h(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=o=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.removePortal=function(){!g&&s.default.unmountComponentAtNode(o.node);var e=O(o.props.parentSelector);e?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=w()(o,i.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(g||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,O(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:O(e.parentSelector),nextParent:O(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&g?(!this.node&&g&&(this.node=document.createElement("div")),w()(i.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(a.Component);S.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},S.defaultProps={isOpen:!1,portalClassName:b,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(S),t.default=S},function(e,t,n){"use strict";var r=n(22);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=v(i),u=v(n(15)),l=h(n(24)),c=v(n(25)),f=h(n(17)),d=h(n(28)),p=v(n(12)),m=v(n(18));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(29);var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&d.remove(document.body,a),o&&d.remove(document.getElementsByTagName("html")[0],o),r&&y>0&&0===(y-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),m.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:b[e],afterOpen:b[e]+"--after-open",beforeClose:b[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"==typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.add(document.body,o),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(y+=1,f.hide(t)),m.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,a=e.defaultStyles,i=n?{}:a.content,u=o?{}:a.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(i.Component);g.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},g.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,o=n(16),a=(r=o)&&r.__esModule?r:{default:r};var i=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=i);i===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(document.activeElement);l>-1&&(l+=o?-1:1);if(void 0===(r=n[l]))return t.preventDefault(),void(r=o?s:i).focus();t.preventDefault(),r.focus()};var r,o=n(16),a=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},o={};t.add=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),n.add(e)}));var n,a},t.remove=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&n.remove(e)}));var n,a}},function(e,t,n){"use strict";var r,o=n(18),a=(r=o)&&r.__esModule?r:{default:r};var i=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}a.default.subscribe((function(e,t){i&&s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",l),(s=i.cloneNode()).addEventListener("focus",l)),(u=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(2),a=function(){return new Promise((function(e){return setTimeout(e)}))},i=n(3);function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getAttribute(t);return null===r?n:r}var u=n(5),l=n(0),c=n.n(l),f=n(13),d=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var b=function(e,t){var n;void 0===t&&(t=v);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}};var y="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function g(e){cancelAnimationFrame(e.id)}function w(e,t){var n=y();var r={id:requestAnimationFrame((function o(){y()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var O=null;function S(e){if(void 0===e&&(e=!1),null===O||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?O="positive-descending":(t.scrollLeft=1,O=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),O}return O}var E=function(e,t){return e};function _(e){var t,n,r=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,i=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,c=e.initInstanceProps,f=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=c(n.props,h(h(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:h(h(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=b((function(e,t,r,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:o})})),n._callOnScroll=void 0,n._callOnScroll=b((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,i=o.direction,s=o.itemSize,u=o.layout,l=n._getItemStyleCache(f&&s,f&&u,f&&i);if(l.hasOwnProperty(e))t=l[e];else{var c,d=r(n.props,e,n._instanceProps),p=a(n.props,e,n._instanceProps),m="horizontal"===i||"horizontal"===u;l[e]=((c={position:"absolute"})["rtl"===i?"right":"left"]=m?d:0,c.top=m?0:d,c.height=m?"100%":p,c.width=m?p:"100%",t=c)}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=b((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,i=o;if("rtl"===t)switch(S()){case"negative":i=-o;break;case"positive-descending":i=a-r-o}return i=Math.max(0,Math.min(i,a-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,a=t.scrollTop;n.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&g(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=w(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}m(t,e),t.getDerivedStateFromProps=function(e,t){return k(e,t),d(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(i(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(S()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var i=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-i-o}else a.scrollLeft=o;else a.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&g(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,a=e.height,i=e.innerRef,s=e.innerElementType,u=e.innerTagName,c=e.itemCount,f=e.itemData,d=e.itemKey,m=void 0===d?E:d,h=e.layout,v=e.outerElementType,b=e.outerTagName,y=e.style,g=e.useIsScrolling,w=e.width,O=this.state.isScrolling,S="horizontal"===r||"horizontal"===h,_=S?this._onScrollHorizontal:this._onScrollVertical,k=this._getRangeToRender(),C=k[0],j=k[1],x=[];if(c>0)for(var P=C;P<=j;P++)x.push(Object(l.createElement)(t,{data:f,key:m(P,f),index:P,isScrolling:g?O:void 0,style:this._getItemStyle(P)}));var R=o(this.props,this._instanceProps);return Object(l.createElement)(v||b||"div",{className:n,onScroll:_,ref:this._outerRefSetter,style:p({position:"relative",height:a,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},y)},Object(l.createElement)(s||u||"div",{children:x,ref:i,style:{height:S?"100%":R,pointerEvents:O?"none":void 0,width:S?R:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"==typeof this.props.onScroll){var a=this.state,i=a.scrollDirection,s=a.scrollOffset,u=a.scrollUpdateWasRequested;this._callOnScroll(i,s,u)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,a=r.scrollDirection,i=r.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,i,this._instanceProps),c=u(this.props,l,i,this._instanceProps),f=o&&"backward"!==a?1:Math.max(1,n),d=o&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,l-f),Math.max(0,Math.min(t-1,c+d)),l,c]},t}(l.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var k=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},C=function(e,t,n){var r=e.itemSize,o=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var i=0;if(a>=0){var s=o[a];i=s.offset+s.size}for(var u=a+1;u<=t;u++){var l=r(u);o[u]={offset:i,size:l},i+=l}n.lastMeasuredIndex=t}return o[t]},j=function(e,t,n,r,o){for(;r<=n;){var a=r+Math.floor((n-r)/2),i=C(e,a,t).offset;if(i===o)return a;i<o?r=a+1:i>o&&(n=a-1)}return r>0?r-1:0},x=function(e,t,n,r){for(var o=e.itemCount,a=1;n<o&&C(e,n,t).offset<r;)n+=a,a*=2;return j(e,t,Math.min(n,o-1),Math.floor(n/2),r)},P=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,o=t.estimatedItemSize,a=t.lastMeasuredIndex,i=0;if(a>=n&&(a=n-1),a>=0){var s=r[a];i=s.offset+s.size}return i+(n-a-1)*o},R=_({getItemOffset:function(e,t,n){return C(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:P,getOffsetForIndexAndAlignment:function(e,t,n,r,o){var a=e.direction,i=e.height,s=e.layout,u=e.width,l="horizontal"===a||"horizontal"===s?u:i,c=C(e,t,o),f=P(e,o),d=Math.max(0,Math.min(f-l,c.offset)),p=Math.max(0,c.offset-l+c.size);switch("smart"===n&&(n=r>=p-l&&r<=d+l?"auto":"center"),n){case"start":return d;case"end":return p;case"center":return Math.round(p+(d-p)/2);case"auto":default:return r>=p&&r<=d?r:r<p?p:d}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?j(e,t,o,0,n):x(e,t,Math.max(0,o),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var o=e.direction,a=e.height,i=e.itemCount,s=e.layout,u=e.width,l="horizontal"===o||"horizontal"===s?u:a,c=C(e,t,r),f=n+l,d=c.offset+c.size,p=t;p<i-1&&d<f;)p++,d+=C(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},M=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},F=function(e){function t(){var e,n,r;A(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;r._lastRenderedStartIndex=t,r._lastRenderedStopIndex=n,r._ensureRowsLoaded(t,n)},r._setRef=function(e){r._listRef=e},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){0}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,r=n.isItemLoaded,o=n.itemCount,a=n.minimumBatchSize,i=void 0===a?10:a,s=n.threshold,u=void 0===s?15:s,l=function(e){for(var t=e.isItemLoaded,n=e.itemCount,r=e.minimumBatchSize,o=e.startIndex,a=e.stopIndex,i=[],s=null,u=null,l=o;l<=a;l++)t(l)?null!==u&&(i.push([s,u]),s=u=null):(u=l,null===s&&(s=l));if(null!==u){for(var c=Math.min(Math.max(u,s+r-1),n-1),f=u+1;f<=c&&!t(f);f++)u=f;i.push([s,u])}if(i.length)for(var d=i[0];d[1]-d[0]+1<r&&d[0]>0;){var p=d[0]-1;if(t(p))break;d[0]=p}return i}({isItemLoaded:r,itemCount:o,minimumBatchSize:i,startIndex:Math.max(0,e-u),stopIndex:Math.min(o-1,t+u)});(this._memoizedUnloadedRanges.length!==l.length||this._memoizedUnloadedRanges.some((function(e,t){var n=M(e,2),r=n[0],o=n[1];return l[t][0]!==r||l[t][1]!==o})))&&(this._memoizedUnloadedRanges=l,this._loadUnloadedRanges(l))}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows;e.forEach((function(e){var r=M(e,2),o=r[0],a=r[1],i=n(o,a);null!=i&&i.then((function(){if(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,o=e.stopIndex;return!(r>n||o<t)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:o,stopIndex:a})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(o,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))}))}}]),t}(l.PureComponent),L=n(4),D=n(7);function N(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){q(a,r,o,i,s,"next",e)}function s(e){q(a,r,o,i,s,"throw",e)}i(void 0)}))}}function H(){return(H=W(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(r.a.i18n.deleteSubmissionsPrompt)){e.next=5;break}return e.next=3,u.a.deleteSubmissions(Object(D.a)(t),[n.uuid]);case 3:(a=e.sent).ok?"error"in a.data?o.a.error(a.data.error,a):o.a.notice("Deleted submission ".concat(n.uuid)):o.a.error("Request to delete failed",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=W(regeneratorRuntime.mark((function e(t,n){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=N(n),!confirm(r.a.i18n.deleteSubmissionsPrompt)){e.next=6;break}return e.next=4,u.a.deleteSubmissions(Object(D.a)(t),a);case 4:(i=e.sent).ok?"error"in i.data?o.a.error(i.data.error,i):o.a.notice("Deleted selected submissions"):o.a.error("Request to delete failed",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=function(e,t){return H.apply(this,arguments)};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=e.href,n=e.text;if(Object(D.b)(t)){var o=Object(D.a)(t);t=r.a.adminUrl+"upload.php?item=".concat(o),n=r.a.i18n.attachment+" ".concat(o)}return c.a.createElement("div",null,c.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n))}function $(e){var t=e.submission,n=e.examine,o=e.checked,a=e.formId,i=e.handleChange,s=e.handleClick,u=(t.ID,t.uuid),l=(t.entries,t.formFields,t.title),f=t.createdAt;return c.a.createElement("div",{className:"wplf-submissionList__submission"},c.a.createElement("label",{className:"wplf-submissionList__submission__select"},c.a.createElement("input",{"data-key":t.uuid,type:"checkbox",checked:o,onChange:i,onClick:s})),c.a.createElement("div",null,c.a.createElement("strong",null,"Title"),c.a.createElement("a",{href:(window.location.search?"".concat(window.location.search,"&"):"?")+"&submissionUuid=".concat(u),onClick:function(e){e.preventDefault(),n(t)}},l)),c.a.createElement("div",null,c.a.createElement("strong",null,"Time"),c.a.createElement("time",{dateTime:f},new Date(f).toLocaleString())),c.a.createElement("div",null,c.a.createElement("button",{className:"button button-small",type:"button",onClick:function(){B(a,t)}},r.a.i18n.delete)))}function X(e){var t=e.submission;if(!t)return null;var n=t.ID,o=t.uuid,a=t.createdAt,i=t.modifiedAt,s=t.entries,u=t.formFields,l=t.title,f=t.referrer,d=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ID:n,UUID:o,historyId:t.historyId,createdAt:a,modifiedAt:i},t.meta);return c.a.createElement("article",{className:"wplf-formSubmission","data-uuid":o},c.a.createElement("h2",null,l),c.a.createElement("h3",null,"Entries"),c.a.createElement("table",null,c.a.createElement("tbody",null,Object.entries(s).map((function(e){var t=G(e,2),n=t[0],o=t[1],a=u[n];if(a){var i=a.type,s=a.required,l=a.multiple;switch(i){case"file":if(l){var f=o.split(", ");o=f.map((function(e){return c.a.createElement(K,{key:e,href:e,text:e})})),o=c.a.createElement("div",null,o)}else{var d=o;o=c.a.createElement(K,{key:d,text:d,href:d})}break;default:o&&o.length||(o=r.a.i18n.emptyField)}return c.a.createElement("tr",{key:n},c.a.createElement("th",null,n,s?"*":null),c.a.createElement("td",{style:{whiteSpace:"textarea"===i?"pre":void 0}},o))}})))),c.a.createElement("h3",null,"Referrer"),c.a.createElement("table",null,c.a.createElement("tbody",null,Object.entries(f).map((function(e){var t=G(e,2),n=t[0],r=t[1];return c.a.createElement("tr",{key:n},c.a.createElement("th",null,n),c.a.createElement("td",null,r))})))),c.a.createElement("h3",null,"Meta"),c.a.createElement("table",null,c.a.createElement("tbody",null,Object.entries(d).map((function(e){var t=G(e,2),n=t[0],r=t[1];return c.a.createElement("tr",{key:n},c.a.createElement("th",null,n),c.a.createElement("td",null,r))})))))}var Q=n(14),Z=n.n(Q);function ee(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){oe(a,r,o,i,s,"next",e)}function s(e){oe(a,r,o,i,s,"throw",e)}i(void 0)}))}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e){var t=e.formId,n=ie(c.a.useState((function(){return new Set})),2),a=n[0],i=n[1],s=ie(c.a.useState({submissions:[],moreAvailable:!0,isLoading:!1,page:0}),2),f=s[0],d=f.submissions,p=f.moreAvailable,m=f.isLoading,h=f.page,v=s[1],b=ie(c.a.useState({open:!1,submission:null}),2),y=b[0],g=y.open,w=y.submission,O=b[1],S=c.a.useRef(void 0),E=c.a.useRef(!1),_=function(e){var t=e.target.dataset.key,n=new Set(a),r=e.target.checked,o=[],s=S.current;if(E.current){if(s&&s!==t){var u,l=!1,c=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=se(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(d);try{for(c.s();!(u=c.n()).done;){var f=u.value,p=l;f.uuid!==t&&f.uuid!==s||(p=!l),l&&o.push(f.uuid),l=p}}catch(e){c.e(e)}finally{c.f()}}}else o.push(t);o.forEach((function(e){r?n.add(e):n.delete(e)})),S.current=t,i(n)},k=function(e){E.current=!!e.shiftKey},C=function(){var e=ae(regeneratorRuntime.mark((function e(){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:return v((function(e){return ne(ne({},e),{},{isLoading:!0})})),e.prev=3,e.next=6,u.a.requestSubmissions(t,h,500);case 6:if(n=e.sent,!("error"in(r=n.data))){e.next=13;break}throw o.a.error("Unable to get submissions",r),new Error(r.error);case 13:n.kind===L.a.GetSubmissions&&(a=n.headers,n.kind,i=a.get("X-WP-Totalpages")||1,s=Object(D.a)(h+1),v((function(e){return{submissions:[].concat(ee(e.submissions),ee(r.data)),page:s,moreAvailable:s<Object(D.a)(i,!0),isLoading:!1}})));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),o.a.error("Something is wrong with loadMore"),v((function(e){return ne(ne({},e),{},{isLoading:!1})}));case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(e){return 50},x=function(e){O({open:!0,submission:e})},P=function(){O((function(e){return{open:!1,submission:null}}))},A=p?d.length+1:d.length,I=m?ae(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):C,T=function(e){return!p||e<d.length},M=function(e){var n,i=e.index,s=e.style;if(T(i)){var u=d[i];if(!u)return o.a.error("No submission found for index",i,d),null;n=c.a.createElement($,{submission:u,examine:x,formId:t,checked:a.has(u.uuid),handleChange:_,handleClick:k})}else n=r.a.i18n.loading;return c.a.createElement("div",{style:s},n)},N=a.size>0;return c.a.createElement(l.Fragment,null,N?c.a.createElement("div",{className:"wplf-submissionList__toolbar"},c.a.createElement("button",{className:"wplf-submissionList__toolbar__button button button-small",type:"button",onClick:function(e){e.preventDefault(),i(new Set)}},r.a.i18n.deselectAll," Deselect all"),c.a.createElement("button",{className:"wplf-submissionList__toolbar__button button button-small",type:"button",onClick:function(e){e.preventDefault(),i(new Set(d.map((function(e){return e.uuid}))))}},r.a.i18n.selectAll," Select all"),c.a.createElement("button",{className:"wplf-submissionList__toolbar__button button button-small",type:"button",onClick:function(e){e.preventDefault(),function(e,t){z.apply(this,arguments)}(t,a)}},r.a.i18n.deleteSelected," Delete selected")):null,c.a.createElement(F,{isItemLoaded:T,itemCount:A,loadMoreItems:I},(function(e){var t=e.onItemsRendered,n=e.ref;return c.a.createElement(R,{className:"List",height:A>0?400:0,itemCount:A,itemSize:j,onItemsRendered:t,ref:n,width:"100%"},M)})),d.length?null:c.a.createElement("p",null,r.a.i18n.noSubmissionsYet),c.a.createElement(Z.a,{isOpen:g,onRequestClose:P,contentLabel:r.a.i18n.formSubmission,className:"wplf-submissionModal",overlayClassName:"wplf-submissionModal__overlay"},c.a.createElement("div",{className:"wplf-submissionModal__wrapper"},w?c.a.createElement(l.Fragment,null,c.a.createElement(X,{submission:w}),c.a.createElement("div",{className:"wplf-submissionModal__buttons"},c.a.createElement("button",{className:"button wplf-delete",type:"button",onClick:function(){B(t,w),P()}},r.a.i18n.delete),c.a.createElement("button",{onClick:P,className:"button wplf-close"},r.a.i18n.close))):null)))}function ce(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ce(a,r,o,i,s,"next",e)}function s(e){ce(a,r,o,i,s,"throw",e)}i(void 0)}))}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}document.querySelector(".wplf-submissionList")&&Z.a.setAppElement(".wplf-submissionList");var ye=r.a.i18n,ge=window.jQuery,we=window._,Oe=window.wp,Se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formInstance=null;var n=document.querySelector("#wplfFields"),a=document.querySelector("#wplfAdditionalFields"),u=document.querySelector("#wplfNewFields"),l=document.querySelector("#wplfDeletedFields"),f=document.querySelector("#wplfHistoryFields"),p=document.querySelector("#wplfAllowSave"),m=document.querySelector(".wplf-editor .wplf-submissionList"),h=document.querySelector(".wplf-editor .wplf-cmEditor"),v=document.querySelector(".wplf-afterSubmission .wplf-cmEditor"),b=document.querySelector(".wplf-editor__preview"),y=document.querySelector("#publish"),g=document.querySelector(".wplf-formFields > .wplf-formFields__field");if(r.a.settings.hasUnfilteredHtml||setTimeout((function(){alert(r.a.i18n.noUnfilteredHtml)}),500),!(Object(i.a)(n)&&Object(i.a)(a)&&Object(i.a)(u)&&Object(i.a)(l)&&Object(i.a)(f)&&Object(i.a)(p)&&Object(i.a)(m)&&Object(i.a)(h)&&Object(i.a)(v)&&Object(i.a)(b)&&Object(i.a)(y)&&Object(i.a)(g)))throw o.a.error("Missing element(s). List for debugging: ",{fields:n,additionalFields:a,newFields:u,deletedFields:l,historyFields:f,allowSave:p,submissionsEl:m,editorEl:h,thankYouEl:v,previewEl:b,publishButton:y,sidebarFieldTemplate:g}),new Error("Missing some or all of the required elements to run WPLF_Editor");var w,O=!!ge(h).attr("readonly"),S={historyFields:JSON.parse(s(f,"value")||"{}"),fields:JSON.parse(s(n,"value")||"null"),additionalFields:JSON.parse(s(a,"value")||"null"),newFields:[],deletedFields:[],allowSave:!1};this.manager=t,this.state=S,this.inputs={fields:n,additionalFields:a,newFields:u,deletedFields:l,historyFields:f,allowSave:p},this.fieldTemplate=g.cloneNode(!0),this.fieldTemplate.removeAttribute("hidden"),this.previewEl=b,this.publishButton=y,this.contentEditor=O?null:Oe.codeEditor.initialize(ge(h),r.a.codeMirror),this.successMessageEditor=Oe.codeEditor.initialize(ge(v),r.a.codeMirror),this.handleContentChange=this.handleContentChange.bind(this),O?this.handleContentChange(h.getAttribute("value")):(this.contentEditor.codemirror.on("changes",we.debounce(this.handleContentChange,1e3)),this.handleContentChange(this.contentEditor.codemirror)),r.a.settings.hasUnfilteredHtml||this.tryToPreventEdit();var E=(null===(w=r.a.post)||void 0===w?void 0:w.ID)||null;E&&d.a.render(c.a.createElement(le,{formId:E},null),m)}var t,n,l,f,p,m,h;return t=e,(n=[{key:"setState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{}},t=this.state,n=e(t);n&&(this.state=he(he({},t),n),this.afterStateChange())}},{key:"getState",value:function(){return this.state}},{key:"writeState",value:function(){var e=this;Object.entries(this.inputs).forEach((function(t){var n=de(t,2),r=n[0],o=n[1];if(r in e.state){var a=e.state[r];"boolean"==typeof a?o.setAttribute("value",a?"1":"0"):o.setAttribute("value",JSON.stringify(a))}}))}},{key:"afterStateChange",value:function(){var e=this,t=this.getState();Object.entries(t).forEach((function(t){var n=de(t,2),r=n[0],o=n[1];switch(r){case"allowSave":e.writeState(),o?e.publishButton.removeAttribute("disabled"):e.publishButton.setAttribute("disabled","true")}}))}},{key:"tryToPreventEdit",value:function(){ge("#title").prop("disabled",!0),ge("#content").prop("disabled",!0),ge("#publish").remove(),ge("#save-post").remove()}},{key:"handleContentChange",value:(h=fe(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.manager,r=this.formInstance,a="string"==typeof t?t:t.getValue(),e.prev=2,r&&(n.detach(r),r=null),this.setState((function(){return{allowSave:!1}})),e.next=7,this.updatePreview(a);case 7:return e.next=9,this.updateFormFieldsFromPreview();case 9:return e.next=11,this.removeProblematicAttributesFromPreview();case 11:this.writeState(),r=n.attach(this.previewEl),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),o.a.error("Failed to get preview",e.t0);case 18:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(e){return h.apply(this,arguments)})},{key:"updatePreview",value:(m=fe(regeneratorRuntime.mark((function e(t){var n,i,s,l,c,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(null===(n=r.a.post)||void 0===n?void 0:n.ID)||null){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,u.a.requestRender(i,t);case 6:if(s=e.sent,!("error"in(l=s.data))){e.next=13;break}throw o.a.error("Unable to update preview",l),new Error(l.error);case 13:return c=l.data.html,(f=document.createElement("div")).innerHTML=c,e.next=18,a();case 18:return d=f.querySelector("form"),this.previewEl.innerHTML=d?d.innerHTML:"",e.next=22,a();case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),this.previewEl.innerHTML=e.t0.message;case 27:case"end":return e.stop()}}),e,this,[[3,24]])}))),function(e){return m.apply(this,arguments)})},{key:"getDuplicateNames",value:function(e){return we.unique(e.filter((function(t){return e.filter((function(e){return e===t})).length>1})))}},{key:"createFieldElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.fieldTemplate.cloneNode(!0),r=e.name,o=e.type,a=e.required,s=n.querySelector("strong"),u=n.querySelector(".wplf-formFields__field__type em"),l=n.querySelector(".wplf-formFields__field__alert");if(Object(i.a)(s)&&Object(i.a)(u)&&Object(i.a)(l))if(s.innerText=r,u.innerText=a?"required ".concat(o):o,t){l.setAttribute("title",t);var c=document.createElement("p"),f="<strong>".concat(ye.problems,"</strong>").concat(t).replace(/(?:\r\n|\r|\n)/g,"<br>");c.innerHTML=f,l.insertAdjacentElement("afterend",c)}else Object(i.a)(l.parentNode)&&l.parentNode.removeChild(l);return n}},{key:"updateFormFieldsFromPreview",value:(p=fe(regeneratorRuntime.mark((function e(){var t,n,r,o,s,u,l,c,f,d,p,m,h,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getState(),n=t.historyFields,r=t.additionalFields,o=this.previewEl,s=document.querySelector(".wplf-formFields"),Object(i.a)(s)){e.next=6;break}return console.warn("Field container does not exist"),e.abrupt("return");case 6:return u=!0,l=Array.from(o.querySelectorAll("input, textarea, select, button")).filter((function(e){return e.getAttribute("name")})).reduce((function(e,t){if(t&&Object(i.a)(t)){var n=t.getAttribute("name");if(!n)return e;var r=n.replace("[]",""),o=t.getAttribute("type")||t.tagName.toLowerCase(),a=null!==t.getAttribute("required"),s=n.endsWith("[]"),u=Object.values(t.attributes).reduce((function(e,t){return["name","type","required"].includes(t.name)||(e[t.name]=t.value),e}),{});return e.push({name:r,type:o,required:a,multiple:s,attributes:u}),e}return e}),[]),c=l.map((function(e){return e.name})),f=this.getDuplicateNames(c),s.innerHTML="",d=[],l.forEach((function(e){if(e){var t=e.name,o=e.type,a=Object.values(n).find((function(e){return e.name===t})),i="";t.match(/\w*\[\w*\]/)&&(i="".concat(i).concat(ye.groupedNamesNotSupportedYet,"\n")),f&&f.includes(t)&&(e.multiple||(i="".concat(i).concat(ye.duplicateFieldName," ").concat(t,"\n"))),r.includes(t)&&(i="".concat(i).concat(ye.illegalName.replace("{name}",t),"\n")),a&&a.type!==o&&(i="".concat(i).concat(ye.fieldAlreadyExistsInDb.replace("{type}",a.type),"\n")),i&&d.push(i),s.appendChild(v.createFieldElement(e,i))}})),u=!d.length,p=l.filter((function(e){return!!e&&!Object.values(n).find((function(t){return t.name===e.name}))})),m=Object.values(n).filter((function(e){return!c.includes(e.name)})),h={fields:l.reduce((function(e,t){return e[t.name]=t,e}),{}),newFields:p,deletedFields:m,allowSave:u},this.setState((function(){return h})),e.next=20,a();case 20:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"removeProblematicAttributesFromPreview",value:(f=fe(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.previewEl.querySelectorAll("[required]")),n=Array.from(this.previewEl.querySelectorAll("[name]")),t.forEach((function(e){return e.removeAttribute("required")})),n.forEach((function(e){return e.removeAttribute("name")})),e.next=6,a();case 6:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})}])&&be(t.prototype,n),l&&be(t,l),e}();var Ee=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};var _e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);document.querySelector(".wplf-plugins")},ke=n(8);function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je,xe,Pe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=Array.from(document.querySelectorAll(".wplf-tabs")).map((function(e){return new ke.a(e)}));var n=document.body.classList;n.contains("post-type-libreform")&&(n.contains("post-php")||n.contains("post-new-php"))?this.editor=new Se(t):n.contains("libreform_page_wplfSettings")?this.settings=new Ee(t):n.contains("libreform_page_wplfAddons")&&(this.addons=new _e(t))}var t,n,r;return t=e,(n=[{key:"getEditor",value:function(){return this.editor}},{key:"getAddons",value:function(){return this.addons}},{key:"getSettings",value:function(){return this.settings}},{key:"getTabs",value:function(){return this.tabs}}])&&Ce(t.prototype,n),r&&Ce(t,r),e}(),Re=n(10),Ae=n(6);n(31),t.default=(je=new Re.a,xe=new Pe(je),{api:u.a,manager:je,admin:xe,WPLF_Tabs:ke.a,WPLF_Form:Ae.a})}]).default}));