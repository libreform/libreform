/*! For license information please see wplf-admin.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.WPLF=t(require("react"),require("react-dom")):e.WPLF=t(e.React,e.ReactDOM)}(this,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(t,n){t.exports=e},function(e,t,n){"use strict";t.a=function(e){return Object.assign({backendUrl:null,fetchCredentials:"same-origin",requestHeaders:{"X-WP-Nonce":null},assetsDir:null,settings:{autoinit:!0,parseLibreformShortcodeInRestApi:!0,hasUnfilteredHtml:!0,debugLevel:"all"},post:null,i18n:{problems:"Problems: ",duplicateFieldName:"Duplicate field name: ",illegalName:"You can't use {name} as a name, as it conflicts with a core field name.",fieldAlreadyExistsInDb:"Field already exists in the database with the type {type}, use a different name or remove the field first.",groupedNamesNotSupportedYet:"Field names like these are not supported yet. Try using camelCasing or under_scores for grouped names instead."}},e.wplfData)}(window)},function(e,t,n){"use strict";t.a=function(e){return!!e&&("getAttribute"in e&&"tagName"in e)}},function(e,t,n){"use strict";var r=n(1).a.settings.debugLevel,o=window.console||{log(){},error(){}};t.a={notice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"all"===r&&o.log("WPLF: ".concat(e),n)},error:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"none"!==r&&o.error("WPLF error: ".concat(e),n)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r,o,a=n(0),i=n.n(a);!function(e){e[e.Unsubmitted=0]="Unsubmitted",e[e.Submitting=1]="Submitting",e[e.Success=2]="Success",e[e.Error=3]="Error"}(r||(r={})),function(e){e.Submission="submission",e.Render="render",e.GetSubmissions="getsubmissions"}(o||(o={})),window.React=i.a},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"number"==typeof e?e:t?parseFloat(e):parseInt(e,10)}function o(e){return!!(e.length>0&&e.match(/^[0-9]*$/))}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wplf";o(this,e),this.prefix=t}var t,n,i;return t=e,(n=[{key:"get",value:function(e,t){var n=localStorage.getItem(this.prefix+e);return null!==n?n?JSON.parse(n):n:(r.a.notice("No value found for ".concat(e,", falling back to default"),t),t)}},{key:"set",value:function(e,t){try{return localStorage.setItem(this.prefix+e,JSON.stringify(t)),!0}catch(n){return r.a.error(n,e,t),!1}}}])&&a(t.prototype,n),i&&a(t,i),e}()),s=n(2);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.remember=!1,this.name="",this.handleClick=function(e){var t=e.target;if(Object(s.a)(t)){console.log(t);var o=t.getAttribute("data-target");o?n.switchTab(o):r.a.notice("Unable to switch tab as data-target was empty")}e.preventDefault()},t instanceof Element!=!0)throw new Error("Tab element invalid or missing");if(this.root=t,this.name=this.root.getAttribute("data-name")||"",this.remember=null!==this.root.getAttribute("data-remember"),this.activeTab=this.root.getAttribute("data-default")||"",!this.root)throw new Error("does this work for ts (it does not)");if(!this.name||!this.activeTab)throw new Error("Required attributes are missing");this.remember&&(this.activeTab=i.get(this.name,this.activeTab)),this.refresh()}var t,n,o;return t=e,(n=[{key:"refresh",value:function(){var e=this;this.getHandles().forEach((function(t){t.addEventListener("click",e.handleClick,{passive:!1})})),this.switchTab(this.activeTab)}},{key:"getTabs",value:function(){return Array.from(this.root.querySelectorAll('.wplf-tabs__tab[data-name="'.concat(this.name,'"]')))}},{key:"getHandles",value:function(){return Array.from(this.root.querySelectorAll('.wplf-tabs__tabSwitcher[data-name="'.concat(this.name,'"]')))}},{key:"switchTab",value:function(e){var t=this.getTabs(),n=this.getHandles(),r=t.filter((function(t){return t.getAttribute("data-tab")===e})),o=t.filter((function(t){return t.getAttribute("data-tab")!==e}));r.forEach((function(e){var t=e.getAttribute("data-tab"),r=n.filter((function(e){return e.getAttribute("data-target")===t}));e.classList.add("active"),r.forEach((function(e){e.classList.add("active")}))})),o.forEach((function(e){var t=e.getAttribute("data-tab"),r=n.filter((function(e){return e.getAttribute("data-target")===t}));e.classList.remove("active"),r.forEach((function(e){e.classList.remove("active")}))})),this.remember&&i.set(this.name,e)}}])&&u(t.prototype,n),o&&u(t,o),e}()},function(e,t,n){"use strict";var r=n(8),o=n.n(r),a=n(1);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(){var e=null,t=null;return{controller:e,signal:t,getSignal:()=>t,abort(){e&&e.abort&&e.abort()},request(n){var r,i=arguments;return(r=regeneratorRuntime.mark((function r(){var u,l,c,f,d,p,h,m,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return u=i.length>1&&void 0!==i[1]?i[1]:{},l=i.length>2?i[2]:void 0,e=new o.a,t=e.signal,r.prev=4,r.next=7,fetch(a.a.backendUrl+n,s({method:"GET",signal:t,credentials:a.a.fetchCredentials||"same-origin",headers:a.a.requestHeaders||{}},u));case 7:return c=r.sent,f=c.headers,d=c.status,p=c.statusText,h=c.url,m=c.ok,r.next=11,c.json();case 11:return v=r.sent,e=null,r.abrupt("return",{kind:l,headers:f,status:d,statusText:p,url:h,ok:m,data:v});case 16:if(r.prev=16,r.t0=r.catch(4),e=null,"AbortError"===r.t0.name){r.next=21;break}throw r.t0;case 21:return r.abrupt("return",r.t0);case 22:case"end":return r.stop()}}),r,null,[[4,16]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){l(a,n,o,i,s,"next",e)}function s(e){l(a,n,o,i,s,"throw",e)}i(void 0)}))})()}}}t.a=function(){return c()}},function(e,t,n){"use strict";const{AbortController:r,AbortSignal:o}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=r,e.exports.AbortSignal=o,e.exports.default=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(1),o=n(7),a=n(3),i=n(6),s=n(4),u=n(2);function l(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){l(a,r,o,i,s,"next",e)}function s(e){l(a,r,o,i,s,"throw",e)}i(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=Object(o.a)().request,p=function(e,t){var n=e.form;n.reset&&n.reset()},h=function(e,t){Object(u.a)(e.form.parentNode)&&e.form.parentNode.querySelectorAll(".wplf-errorMessage, .wplf-successMessage").forEach((function(e){Object(u.a)(e.parentNode)&&e.parentNode.removeChild(e)}))},m=function(e,t){var n=t.data.message,r=document.createElement("div");r.classList.add("wplf-successMessage"),r.insertAdjacentHTML("afterbegin",n.replace(/\n/g,"<br />")),e.form.insertAdjacentElement("beforebegin",r),e.form.classList.add("submitted")},v=function(e,t){var n=t.error,r=document.createElement("div");r.classList.add("wplf-errorMessage"),r.insertAdjacentHTML("afterbegin",n.message),e.form.insertAdjacentElement("beforebegin",r)},b=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.submitState=s.b.Unsubmitted,this.callbacks={beforeSend:{default:h},success:{default:m,clearOnSuccess:p},error:{default:v}},this.tabs=[],this.key="",t instanceof Element!=!0)throw new Error("Form element invalid or missing");var n=t.querySelector('[name="_nojs"]');this.form=t,this.key="_"+Math.random().toString(36).substr(2,9),this.tabs=Array.from(this.form.querySelectorAll(".wplf-tabs")).map((function(e){return new i.a(e)})),this.submitHandler=this.createSubmitHandler(),this.attachSubmitHandler(),n&&Object(u.a)(n.parentNode)&&n.parentNode.removeChild(n)}var t,n,o,l;return t=e,(n=[{key:"addCallback",value:function(e,t,n){var r=this.callbacks,o=r.beforeSend,a=r.success,i=r.error;switch(t){case"beforeSend":o[e]=n;break;case"success":a[e]=n;break;case"error":i[e]=n;break;default:throw new Error("Unknown callback type ".concat(t))}return this}},{key:"removeCallback",value:function(e,t){var n=this.callbacks,r=n.beforeSend,o=n.success,a=n.error;switch(t){case"beforeSend":delete r[e];break;case"success":delete o[e];break;case"error":delete a[e];break;default:throw new Error("Unknown callback ".concat(e," ").concat(t))}return this}},{key:"runCallback",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.callbacks,o=r.beforeSend,a=r.success,i=r.error;switch(e){case"beforeSend":Object.values(o).forEach((function(e){e(t,n)}));break;case"success":Object.values(a).forEach((function(e){e(t,n)}));break;case"error":Object.values(i).forEach((function(e){e(t,n)}));break;default:throw new Error("Unknown callback ".concat(name," ").concat(e))}}},{key:"attachSubmitHandler",value:function(){return this.form.addEventListener("submit",this.submitHandler,{passive:!1}),this}},{key:"removeSubmitHandler",value:function(){return this.form.removeEventListener("submit",this.submitHandler),this}},{key:"createSubmitHandler",value:function(e){var t=this;return e||function(){var e=c(regeneratorRuntime.mark((function e(n){var r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t.submitState!==s.b.Submitting){e.next=4;break}return a.a.notice("Preventing double doubmission"),e.abrupt("return");case 4:return e.prev=4,e.next=7,t.send();case 7:if(r=e.sent,o=r.data,i=r.ok,!("error"in o)){e.next=14;break}throw a.a.error("Invalid submission!",r),new Error(o.error);case 14:if(i){e.next=18;break}throw new Error("Request to submit form failed");case 18:t.submitState=s.b.Success,t.runCallback("success",{data:o});case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),t.submitState=s.b.Error,t.runCallback("error",{error:e.t0});case 26:case"end":return e.stop()}}),e,null,[[4,22]])})));return function(t){return e.apply(this,arguments)}}()}},{key:"send",value:(l=c(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.form,n=new FormData(t),r.a.lang&&n.append("lang",r.a.lang),this.submitState=s.b.Submitting,t.classList.add("submitting"),this.runCallback("beforeSend",{formData:n,form:t}),o=d("/submit",{method:"POST",body:n},s.a.Submission),t.classList.remove("submitting"),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})}])&&f(t.prototype,n),o&&f(t,o),e}(),y=n(5);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.forms={},this.WPLF_Form=b,this.WPLF_Tabs=i.a,this.initialize()}var t,n,o;return t=e,(n=[{key:"initialize",value:function(){var e=this;r.a.settings.autoinit&&document.querySelectorAll("form.wplf").forEach((function(t){return e.attach(t)}))}},{key:"findFormsById",value:function(e){var t=this;return Object.keys(this.forms).reduce((function(n,r){var o=t.forms[r];if(!o)return n;var a=o.form.getAttribute("data-form-id");return a&&Object(y.a)(a)===Object(y.a)(e)&&n.push(o),n}),[])}},{key:"findFormsBySlug",value:function(e){var t=this;return Object.keys(this.forms).reduce((function(n,r){var o=t.forms[r];if(!o)return n;var a=o.form.getAttribute("data-form-slug");return a&&a===e&&n.push(o),n}),[])}},{key:"attach",value:function(e){if(e instanceof b){var t=e;return this.forms[t.key]=t,t}var n=e;if(n instanceof Element!=1)throw new Error("Unable to attach WPLF to element");var r=new b(n);return this.forms[r.key]=r,r.form.removeAttribute("tabindex"),r.form.removeAttribute("style"),r}},{key:"detach",value:function(e){return this.forms[e.key].removeSubmitHandler(),delete this.forms[e.key],!0}}])&&g(t.prototype,n),o&&g(t,o),e}()},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new k(r||[]);return a._invoke=function(e,t,n){var r=f;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return R()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",m={};function v(){}function b(){}function y(){}var g={};g[a]=function(){return this};var w=Object.getPrototypeOf,O=w&&w(w(P([])));O&&O!==n&&r.call(O,a)&&(g=O);var S=y.prototype=v.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,a,i,s){var u=c(e[o],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=c(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:R}}function R(){return{value:t,done:!0}}return b.prototype=S.constructor=y,y.constructor=b,b.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},_(E.prototype),E.prototype[i]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new E(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),u(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,o=n(26);var a=((r=o)&&r.__esModule?r:{default:r}).default,i=a.canUseDOM?window.HTMLElement:{};t.canUseDOM=a.canUseDOM;t.default=i},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(19),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default},function(e,t,n){e.exports=n(20)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var r=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function a(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&a(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"==typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=l,t.hide=function(e){l(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,o=n(25),a=(r=o)&&r.__esModule?r:{default:r},i=n(11);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!s)||((0,a.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},function(e,t,n){n(10),e.exports=n(34)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=h(a),s=h(n(12)),u=h(n(14)),l=h(n(22)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),f=n(11),d=h(f),p=n(29);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.portalClassName="ReactModalPortal",y=t.bodyOpenClassName="ReactModal__Body--open",g=void 0!==s.default.createPortal,w=function(){return g?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function O(e){return e()}var S=function(e){function t(){var e,n,o;m(this,t);for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return n=o=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.removePortal=function(){!g&&s.default.unmountComponentAtNode(o.node);var e=O(o.props.parentSelector);e?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=w()(o,i.default.createElement(l.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(g||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,O(this.props.parentSelector).appendChild(this.node),!g&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:O(e.parentSelector),nextParent:O(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,a=r.portalClassName;e.portalClassName!==a&&(this.node.className=a);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||o)&&!g&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&g?(!this.node&&g&&(this.node=document.createElement("div")),w()(i.default.createElement(l.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){c.setElement(e)}}]),t}(a.Component);S.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},S.defaultProps={isOpen:!1,portalClassName:b,bodyOpenClassName:y,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(S),t.default=S},function(e,t,n){"use strict";var r=n(21);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),s=v(i),u=v(n(14)),l=m(n(23)),c=v(n(24)),f=m(n(16)),d=m(n(27)),p=v(n(11)),h=v(n(17));function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(28);var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=0,g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&d.remove(document.body,a),o&&d.remove(document.getElementsByTagName("html")[0],o),r&&y>0&&0===(y-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){9===e.keyCode&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&27===e.keyCode&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:b[e],afterOpen:b[e]+"--after-open",beforeClose:b[e]+"--before-close"},a=r.base;return n.state.afterOpen&&(a=a+" "+r.afterOpen),n.state.beforeClose&&(a=a+" "+r.beforeClose),"string"==typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.add(document.body,o),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(y+=1,f.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,a=e.defaultStyles,i=n?{}:a.content,u=o?{}:a.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(i.Component);g.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},g.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onAfterClose:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,data:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,testId:u.default.string},t.default=g,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=l,t.handleFocus=c,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))};var r,o=n(15),a=(r=o)&&r.__esModule?r:{default:r};var i=[],s=null,u=!1;function l(){u=!0}function c(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,a.default)(s)[0]||s).focus()}),0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,o=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=i);i===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var l=n.indexOf(document.activeElement);l>-1&&(l+=o?-1:1);if(void 0===(r=n[l]))return t.preventDefault(),void(r=o?s:i).focus();t.preventDefault(),r.focus()};var r,o=n(15),a=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),a={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},o={};t.add=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(a,e),n.add(e)}));var n,a},t.remove=function(e,t){return n=e.classList,a="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(a,e),0===a[e]&&n.remove(e)}));var n,a}},function(e,t,n){"use strict";var r,o=n(17),a=(r=o)&&r.__esModule?r:{default:r};var i=void 0,s=void 0,u=[];function l(){0!==u.length&&u[u.length-1].focusContent()}a.default.subscribe((function(e,t){i&&s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",l),(s=i.cloneNode()).addEventListener("focus",l)),(u=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var u=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(7),a=n(3),i=function(){return new Promise((function(e){return setTimeout(e)}))},s=n(2),u=n(4);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.getAttribute(t);return null===r?n:r}var c=n(0),f=n.n(c),d=n(12),p=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var y=function(e,t){var n;void 0===t&&(t=b);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}};var g="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function w(e){cancelAnimationFrame(e.id)}function O(e,t){var n=g();var r={id:requestAnimationFrame((function o(){g()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var S=null;function _(e){if(void 0===e&&(e=!1),null===S||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?S="positive-descending":(t.scrollLeft=1,S=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),S}return S}var E=function(e,t){return e};function C(e){var t,n,r=e.getItemOffset,o=e.getEstimatedTotalSize,a=e.getItemSize,i=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,l=e.initInstanceProps,f=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=l(n.props,v(v(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:v(v(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=y((function(e,t,r,o){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:o})})),n._callOnScroll=void 0,n._callOnScroll=y((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,i=o.direction,s=o.itemSize,u=o.layout,l=n._getItemStyleCache(f&&s,f&&u,f&&i);if(l.hasOwnProperty(e))t=l[e];else{var c,d=r(n.props,e,n._instanceProps),p=a(n.props,e,n._instanceProps),h="horizontal"===i||"horizontal"===u;l[e]=((c={position:"absolute"})["rtl"===i?"right":"left"]=h?d:0,c.top=h?0:d,c.height=h?"100%":p,c.width=h?p:"100%",t=c)}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=y((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===o)return null;var t=n.props.direction,i=o;if("rtl"===t)switch(_()){case"negative":i=-o;break;case"positive-descending":i=a-r-o}return i=Math.max(0,Math.min(i,a-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,o=t.scrollHeight,a=t.scrollTop;n.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,o-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&w(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=O(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}m(t,e),t.getDerivedStateFromProps=function(e,t){return x(e,t),d(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(i(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(_()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var i=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-i-o}else a.scrollLeft=o;else a.scrollTop=o}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&w(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,a=e.height,i=e.innerRef,s=e.innerElementType,u=e.innerTagName,l=e.itemCount,f=e.itemData,d=e.itemKey,p=void 0===d?E:d,m=e.layout,v=e.outerElementType,b=e.outerTagName,y=e.style,g=e.useIsScrolling,w=e.width,O=this.state.isScrolling,S="horizontal"===r||"horizontal"===m,_=S?this._onScrollHorizontal:this._onScrollVertical,C=this._getRangeToRender(),x=C[0],j=C[1],k=[];if(l>0)for(var P=x;P<=j;P++)k.push(Object(c.createElement)(t,{data:f,key:p(P,f),index:P,isScrolling:g?O:void 0,style:this._getItemStyle(P)}));var R=o(this.props,this._instanceProps);return Object(c.createElement)(v||b||"div",{className:n,onScroll:_,ref:this._outerRefSetter,style:h({position:"relative",height:a,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},y)},Object(c.createElement)(s||u||"div",{children:k,ref:i,style:{height:S?"100%":R,pointerEvents:O?"none":void 0,width:S?R:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"==typeof this.props.onScroll){var a=this.state,i=a.scrollDirection,s=a.scrollOffset,u=a.scrollUpdateWasRequested;this._callOnScroll(i,s,u)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,a=r.scrollDirection,i=r.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,i,this._instanceProps),c=u(this.props,l,i,this._instanceProps),f=o&&"backward"!==a?1:Math.max(1,n),d=o&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,l-f),Math.max(0,Math.min(t-1,c+d)),l,c]},t}(c.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var x=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},j=function(e,t,n){var r=e.itemSize,o=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var i=0;if(a>=0){var s=o[a];i=s.offset+s.size}for(var u=a+1;u<=t;u++){var l=r(u);o[u]={offset:i,size:l},i+=l}n.lastMeasuredIndex=t}return o[t]},k=function(e,t,n,r,o){for(;r<=n;){var a=r+Math.floor((n-r)/2),i=j(e,a,t).offset;if(i===o)return a;i<o?r=a+1:i>o&&(n=a-1)}return r>0?r-1:0},P=function(e,t,n,r){for(var o=e.itemCount,a=1;n<o&&j(e,n,t).offset<r;)n+=a,a*=2;return k(e,t,Math.min(n,o-1),Math.floor(n/2),r)},R=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,o=t.estimatedItemSize,a=t.lastMeasuredIndex,i=0;if(a>=n&&(a=n-1),a>=0){var s=r[a];i=s.offset+s.size}return i+(n-a-1)*o},I=C({getItemOffset:function(e,t,n){return j(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:R,getOffsetForIndexAndAlignment:function(e,t,n,r,o){var a=e.direction,i=e.height,s=e.layout,u=e.width,l="horizontal"===a||"horizontal"===s?u:i,c=j(e,t,o),f=R(e,o),d=Math.max(0,Math.min(f-l,c.offset)),p=Math.max(0,c.offset-l+c.size);switch("smart"===n&&(n=r>=p-l&&r<=d+l?"auto":"center"),n){case"start":return d;case"end":return p;case"center":return Math.round(p+(d-p)/2);case"auto":default:return r>=p&&r<=d?r:r<p?p:d}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?k(e,t,o,0,n):P(e,t,Math.max(0,o),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var o=e.direction,a=e.height,i=e.itemCount,s=e.layout,u=e.width,l="horizontal"===o||"horizontal"===s?u:a,c=j(e,t,r),f=n+l,d=c.offset+c.size,p=t;p<i-1&&d<f;)p++,d+=j(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},M=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),T=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},F=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},L=function(e){function t(){var e,n,r;A(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;r._lastRenderedStartIndex=t,r._lastRenderedStopIndex=n,r._ensureRowsLoaded(t,n)},r._setRef=function(e){r._listRef=e},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),M(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){0}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var n=this.props,r=n.isItemLoaded,o=n.itemCount,a=n.minimumBatchSize,i=void 0===a?10:a,s=n.threshold,u=void 0===s?15:s,l=function(e){for(var t=e.isItemLoaded,n=e.itemCount,r=e.minimumBatchSize,o=e.startIndex,a=e.stopIndex,i=[],s=null,u=null,l=o;l<=a;l++)t(l)?null!==u&&(i.push([s,u]),s=u=null):(u=l,null===s&&(s=l));if(null!==u){for(var c=Math.min(Math.max(u,s+r-1),n-1),f=u+1;f<=c&&!t(f);f++)u=f;i.push([s,u])}if(i.length)for(var d=i[0];d[1]-d[0]+1<r&&d[0]>0;){var p=d[0]-1;if(t(p))break;d[0]=p}return i}({isItemLoaded:r,itemCount:o,minimumBatchSize:i,startIndex:Math.max(0,e-u),stopIndex:Math.min(o-1,t+u)});(this._memoizedUnloadedRanges.length!==l.length||this._memoizedUnloadedRanges.some((function(e,t){var n=F(e,2),r=n[0],o=n[1];return l[t][0]!==r||l[t][1]!==o})))&&(this._memoizedUnloadedRanges=l,this._loadUnloadedRanges(l))}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreItems||this.props.loadMoreRows;e.forEach((function(e){var r=F(e,2),o=r[0],a=r[1],i=n(o,a);null!=i&&i.then((function(){if(function(e){var t=e.lastRenderedStartIndex,n=e.lastRenderedStopIndex,r=e.startIndex,o=e.stopIndex;return!(r>n||o<t)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:o,stopIndex:a})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(o,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))}))}}]),t}(c.PureComponent),N=n(5);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e){var t=e.href,n=e.text;if(Object(N.b)(t)){var o=Object(N.a)(t);t=r.a.adminUrl+"upload.php?item=".concat(o),n=r.a.i18n.attachment+" ".concat(o)}return f.a.createElement("div",null,f.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},n))}function W(e){var t=e.submission,n=e.examine,r=t.ID,o=t.uuid;t.entries,t.formFields;return f.a.createElement("a",{href:(window.location.search?"".concat(window.location.search,"&"):"?")+"&submissionUuid=".concat(o),onClick:function(e){e.preventDefault(),n(t)}},"Submission ",r)}function H(e){var t=e.submission;if(!t)return null;t.ID;var n=t.uuid,r=t.entries,o=t.formFields;return f.a.createElement("article",{className:"wplf-formSubmission","data-uuid":n},Object.entries(r).map((function(e){var t=D(e,2),n=t[0],r=t[1],a=o[n];if(a){var i=a.type,s=(a.required,a.multiple);switch(i){case"file":if(s){var u=r.split(", ");r=u.map((function(e){return f.a.createElement(q,{key:e,href:e,text:e})})),r=f.a.createElement("div",null,r)}else{var l=r;r=f.a.createElement(q,{key:l,text:l,href:l})}}return f.a.createElement("div",{key:n},f.a.createElement("strong",null,n),r)}})))}var z=n(13),B=n.n(z);function G(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){K(a,r,o,i,s,"next",e)}function s(e){K(a,r,o,i,s,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=Object(o.a)().request;function te(e){var t=e.formId,n=X(f.a.useState((function(){return new Set})),2),o=n[0],i=n[1],s=X(f.a.useState({submissions:[],moreAvailable:!0,isLoading:!1,page:0}),2),l=s[0],d=l.submissions,p=l.moreAvailable,h=l.isLoading,m=l.page,v=s[1],b=X(f.a.useState({open:!1,submission:null}),2),y=b[0],g=y.open,w=y.submission,O=b[1],S=f.a.useRef(void 0),_=f.a.useRef(!1),E=function(e){var t=e.target.dataset.key,n=new Set(o),r=e.target.checked,a=[],s=S.current;if(_.current){if(s&&s!==t){var u,l=!1,c=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}(d);try{for(c.s();!(u=c.n()).done;){var f=u.value,p=l;f.uuid!==t&&f.uuid!==s||(p=!l),l&&a.push(f.uuid),l=p}}catch(e){c.e(e)}finally{c.f()}}}else a.push(t);a.forEach((function(e){r?n.add(e):n.delete(e)})),S.current=t,i(n)},C=function(e){_.current=!!e.shiftKey},x=function(){var e=$(regeneratorRuntime.mark((function e(){var n,r,o,i,s,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(e){return e.kind===u.a.GetSubmissions},!h){e.next=3;break}return e.abrupt("return");case 3:return v((function(e){return J(J({},e),{},{isLoading:!0})})),e.next=6,ee("/submissions?form=".concat(t,"&page=").concat(m),{},u.a.GetSubmissions);case 6:n=e.sent,r(n)?(o=n.ok,i=n.headers,s=n.data,n.kind,l=i.get("X-WP-Totalpages")||1,c=Object(N.a)(m+1),"error"in s?(a.a.error(s.error),v((function(e){return{submissions:[],page:0,moreAvailable:!1,isLoading:!1}}))):o?v((function(e){return{submissions:[].concat(G(e.submissions),G(s)),page:c,moreAvailable:c<Object(N.a)(l,!0),isLoading:!1}})):(a.a.error("Request to get form submissions failed"),v((function(e){return{submissions:[],page:0,moreAvailable:!1,isLoading:!1}})))):(a.a.error("Something is wrong with loadMore",n),v((function(e){return J(J({},e),{},{isLoading:!1})})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(e){return 50},k=function(e){O({open:!0,submission:e})},P=function(){O((function(e){return{open:!1,submission:null}}))},R=p?d.length+1:d.length,A=h?$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))):x,M=function(e){return!p||e<d.length},T=function(e){var t,n=e.index,a=e.style;if(M(n)){var i=d[n];i.entries,i.meta,i.referrer,i.uuid,i.ID;t=f.a.createElement("div",{className:"wplf-submissionList__submission"},f.a.createElement("label",{className:"wplf-submissionList__submission__select"},f.a.createElement("input",{"data-key":d[n].uuid,type:"checkbox",checked:o.has(d[n].uuid),onChange:E,onClick:C})),f.a.createElement("div",{className:"wplf-submissionList__submission__data"},f.a.createElement(W,{submission:i,examine:k})))}else t=r.a.i18n.loading;return f.a.createElement("div",{style:a},t)};return f.a.createElement(c.Fragment,null,f.a.createElement(L,{isItemLoaded:M,itemCount:R,loadMoreItems:A},(function(e){var t=e.onItemsRendered,n=e.ref;return f.a.createElement(I,{className:"List",height:R>0?400:0,itemCount:R,itemSize:j,onItemsRendered:t,ref:n,width:"100%"},T)})),d.length?null:f.a.createElement("p",null,r.a.i18n.noSubmissionsYet),f.a.createElement(B.a,{isOpen:g,onRequestClose:P,style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},contentLabel:"Example Modal"},f.a.createElement("button",{onClick:P},"close"),f.a.createElement(H,{submission:w})))}function ne(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){ne(a,r,o,i,s,"next",e)}function s(e){ne(a,r,o,i,s,"throw",e)}i(void 0)}))}}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}B.a.setAppElement(".wplf-submissionList");var ce=Object(o.a)(),fe=(ce.abort,ce.request),de=(ce.signal,r.a.i18n),pe=window.jQuery,he=window._,me=window.wp,ve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formInstance=null;var n=document.querySelector("#wplfFields"),o=document.querySelector("#wplfAdditionalFields"),a=document.querySelector("#wplfNewFields"),i=document.querySelector("#wplfDeletedFields"),u=document.querySelector("#wplfHistoryFields"),c=document.querySelector("#wplfAllowSave"),d=document.querySelector(".wplf-editor .wplf-submissionList"),h=document.querySelector(".wplf-editor .wplf-cmEditor"),m=document.querySelector(".wplf-afterSubmission .wplf-cmEditor"),v=document.querySelector(".wplf-editor__preview"),b=document.querySelector("#publish"),y=document.querySelector(".wplf-formFields > .wplf-formFields__field");if(r.a.settings.hasUnfilteredHtml||setTimeout((function(){alert(r.a.i18n.noUnfilteredHtml)}),500),!(Object(s.a)(n)&&Object(s.a)(o)&&Object(s.a)(a)&&Object(s.a)(i)&&Object(s.a)(u)&&Object(s.a)(c)&&Object(s.a)(d)&&Object(s.a)(h)&&Object(s.a)(m)&&Object(s.a)(v)&&Object(s.a)(b)&&Object(s.a)(y)))throw new Error("Missing some or all of the required elements to run WPLF_Editor");var g,w=!!pe(h).attr("readonly"),O={historyFields:JSON.parse(l(u,"value")||"{}"),fields:JSON.parse(l(n,"value")||"null"),additionalFields:JSON.parse(l(o,"value")||"null"),newFields:[],deletedFields:[],allowSave:!1};this.wplf=t,this.state=O,this.inputs={fields:n,additionalFields:o,newFields:a,deletedFields:i,historyFields:u,allowSave:c},this.fieldTemplate=y.cloneNode(!0),this.fieldTemplate.removeAttribute("hidden"),this.previewEl=v,this.publishButton=b,this.contentEditor=w?null:me.codeEditor.initialize(pe(h),r.a.codeMirror),this.successMessageEditor=me.codeEditor.initialize(pe(m),r.a.codeMirror),this.handleContentChange=this.handleContentChange.bind(this),w?this.handleContentChange(h.getAttribute("value")):(this.contentEditor.codemirror.on("changes",he.debounce(this.handleContentChange,1e3)),this.handleContentChange(this.contentEditor.codemirror)),r.a.settings.hasUnfilteredHtml||this.tryToPreventEdit();var S=(null===(g=r.a.post)||void 0===g?void 0:g.ID)||null;S&&p.a.render(f.a.createElement(te,{formId:S},null),d)}var t,n,o,c,d,h,m;return t=e,(n=[{key:"setState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return{}},t=this.state,n=e(t);n&&(this.state=se(se({},t),n),this.afterStateChange())}},{key:"getState",value:function(){return this.state}},{key:"writeState",value:function(){var e=this;Object.entries(this.inputs).forEach((function(t){var n=oe(t,2),r=n[0],o=n[1];if(r in e.state){var a=e.state[r];"boolean"==typeof a?o.setAttribute("value",a?"1":"0"):o.setAttribute("value",JSON.stringify(a))}}))}},{key:"afterStateChange",value:function(){var e=this,t=this.getState();Object.entries(t).forEach((function(t){var n=oe(t,2),r=n[0],o=n[1];switch(r){case"allowSave":e.writeState(),o?e.publishButton.removeAttribute("disabled"):e.publishButton.setAttribute("disabled","true")}}))}},{key:"tryToPreventEdit",value:function(){pe("#title").prop("disabled",!0),pe("#content").prop("disabled",!0),pe("#publish").remove(),pe("#save-post").remove()}},{key:"handleContentChange",value:(m=re(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.wplf,r=this.formInstance,o="string"==typeof t?t:t.getValue(),e.prev=2,r&&(n.detach(r),r=null),this.setState((function(){return{allowSave:!1}})),e.next=7,this.updatePreview(o);case 7:return e.next=9,this.updateFormFieldsFromPreview();case 9:return e.next=11,this.removeProblematicAttributesFromPreview();case 11:this.writeState(),r=n.attach(this.previewEl),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.a.error("Failed to get preview",e.t0);case 18:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(e){return m.apply(this,arguments)})},{key:"updatePreview",value:(h=re(regeneratorRuntime.mark((function e(t){var n,o,a,s,c,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector('input[name="post_ID"]'),o=parseInt(l(n,"value")||"0",10),(a=new FormData).append("content",t),a.append("form",o.toString()),r.a.lang&&a.append("lang",r.a.lang),s={},a.forEach((function(e,t){s[t]=e})),e.next=10,fe("/render",{method:"POST",body:a},u.a.Render);case 10:if((c=e.sent).kind!==u.a.Render){e.next=25;break}if(!("error"in c.data)){e.next=16;break}this.previewEl.innerHTML=JSON.stringify(c.data),e.next=25;break;case 16:if(!("html"in c.data)){e.next=25;break}return f=document.createElement("div"),d=c.data.html,f.innerHTML=d,e.next=22,i();case 22:return f&&(p=f.querySelector("form"),this.previewEl.innerHTML=p?p.innerHTML:""),e.next=25,i();case 25:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)})},{key:"getDuplicateNames",value:function(e){return he.unique(e.filter((function(t){return e.filter((function(e){return e===t})).length>1})))}},{key:"createFieldElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.fieldTemplate.cloneNode(!0),r=e.name,o=e.type,a=e.required,i=n.querySelector("strong"),u=n.querySelector(".wplf-formFields__field__type em"),l=n.querySelector(".wplf-formFields__field__alert");if(Object(s.a)(i)&&Object(s.a)(u)&&Object(s.a)(l))if(i.innerText=r,u.innerText=a?"required ".concat(o):o,t){l.setAttribute("title",t);var c=document.createElement("p"),f="<strong>".concat(de.problems,"</strong>").concat(t).replace(/(?:\r\n|\r|\n)/g,"<br>");c.innerHTML=f,l.insertAdjacentElement("afterend",c)}else Object(s.a)(l.parentNode)&&l.parentNode.removeChild(l);return n}},{key:"updateFormFieldsFromPreview",value:(d=re(regeneratorRuntime.mark((function e(){var t,n,r,o,a,u,l,c,f,d,p,h,m,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getState(),n=t.historyFields,r=t.additionalFields,o=this.previewEl,a=document.querySelector(".wplf-formFields"),Object(s.a)(a)){e.next=6;break}return console.warn("Field container does not exist"),e.abrupt("return");case 6:return u=!0,l=Array.from(o.querySelectorAll("input, textarea, select, button")).filter((function(e){return e.getAttribute("name")})).reduce((function(e,t){if(t&&Object(s.a)(t)){var n=t.getAttribute("name");if(!n)return e;var r=n.replace("[]",""),o=t.getAttribute("type")||t.tagName.toLowerCase(),a=null!==t.getAttribute("required"),i=n.endsWith("[]"),u=Object.values(t.attributes).reduce((function(e,t){return["name","type","required"].includes(t.name)||(e[t.name]=t.value),e}),{});return e.push({name:r,type:o,required:a,multiple:i,attributes:u}),e}return e}),[]),c=l.map((function(e){return e.name})),f=this.getDuplicateNames(c),a.innerHTML="",d=[],l.forEach((function(e){if(e){var t=e.name,o=e.type,i=Object.values(n).find((function(e){return e.name===t})),s="";t.match(/\w*\[\w*\]/)&&(s="".concat(s).concat(de.groupedNamesNotSupportedYet,"\n")),f&&f.includes(t)&&(e.multiple||(s="".concat(s).concat(de.duplicateFieldName," ").concat(t,"\n"))),r.includes(t)&&(s="".concat(s).concat(de.illegalName.replace("{name}",t),"\n")),i&&i.type!==o&&(s="".concat(s).concat(de.fieldAlreadyExistsInDb.replace("{type}",i.type),"\n")),s&&d.push(s),a.appendChild(v.createFieldElement(e,s))}})),u=!d.length,p=l.filter((function(e){return!!e&&!Object.values(n).find((function(t){return t.name===e.name}))})),h=Object.values(n).filter((function(e){return!c.includes(e.name)})),m={fields:l.reduce((function(e,t){return e[t.name]=t,e}),{}),newFields:p,deletedFields:h,allowSave:u},this.setState((function(){return m})),e.next=20,i();case 20:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"removeProblematicAttributesFromPreview",value:(c=re(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.previewEl.querySelectorAll("[required]")),n=Array.from(this.previewEl.querySelectorAll("[name]")),t.forEach((function(e){return e.removeAttribute("required")})),n.forEach((function(e){return e.removeAttribute("name")})),e.next=6,i();case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})}])&&le(t.prototype,n),o&&le(t,o),e}();var be=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};var ye=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},ge=n(6);function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tabs=Array.from(document.querySelectorAll(".wplf-tabs")).map((function(e){return new ge.a(e)}));var n=document.body.classList;n.contains("post-type-libreform")&&(n.contains("post-php")||n.contains("post-new-php"))?this.editor=new ve(t):n.contains("libreform_page_wplfSettings")?this.settings=new be(t):n.contains("libreform_page_wplfAddons")&&(this.addons=new ye(t))}var t,n,r;return t=e,(n=[{key:"getEditor",value:function(){return this.editor}},{key:"getAddons",value:function(){return this.addons}},{key:"getSettings",value:function(){return this.settings}},{key:"getTabs",value:function(){return this.tabs}}])&&we(t.prototype,n),r&&we(t,r),e}(),Se=n(9);n(30),t.default=new Oe(new Se.a)}]).default}));